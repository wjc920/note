# 名词

**非虚方法：** 符合编译期可知，运行期不可变的方法，如：静态方法、私有方法、实例构造方法、父类方法和被final修饰的方法。

**虚方法：** 非虚方法以外的方法。

# 方法调用的确定会发生在两个阶段

方法调用的确定就是在确定方法调用版本的时候，将方法调用的符号引用转换为直接引用。

### 解析阶段

非虚方法的调用会在类加载的解析阶段将符号引用转换成直接引用，虚方法继续保持符号引用的方式存在于运行时。

### 分派阶段

重载是静态分派，指的是在编译期会根据参数的引用类型决定方法调用版本。重写是动态分派，指的是只有在运行时根据引用所指向的实际对象类型决定方法调用版本。

# 总结

在方法调用时，非虚方法在编译期就能确定方法调用版本，因此编译期就可以将方法的符号引用转化为直接引用。而虚方法则需要在运行时才能根据方法接受者的运行时类型和外加编译期以确定的参数类型两者共同决定方法调用的版本，也就是说，虚方法的调用必须在运行时才能确定方法的实际调用版本。